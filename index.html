<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Open UKG Pro</title>
  <script>
    (function () {
      // Prefer the custom scheme; it’s the most direct way to the app.
      // If UKG sets up a proper Universal Link for your tenant, you can switch this to the https URL.
      var deeplink = "ukgpro://mobileukg-dev.reyesholdings.com";
      var appstore = "https://apps.apple.com/us/app/ukg-pro/id6445849909";

      // Start the fallback, but cancel it the moment Safari loses focus or the page hides.
      var fallbackTimer = setTimeout(function () {
        try { window.location.assign(appstore); } catch (_) { window.location.href = appstore; }
      }, 700); // tune 600–900ms as needed

      function cancelFallback() {
        if (fallbackTimer) {
          clearTimeout(fallbackTimer);
          fallbackTimer = null;
        }
      }

      // Cancel when the page is no longer visible or is navigating away.
      document.addEventListener("visibilitychange", function () {
        if (document.visibilityState === "hidden") cancelFallback();
      }, { passive: true });

      window.addEventListener("pagehide", cancelFallback, { passive: true });
      window.addEventListener("blur", cancelFallback, { passive: true });

      // Attempt to open the app. iOS may show a confirmation prompt; that’s normal and cannot be suppressed.
      try { window.location.replace(deeplink); } catch (_) { window.location.href = deeplink; }
    })();
  </script>
</head>
<body></body>
</html>
